# Origin - 项目概述

## 项目愿景

Origin 是一个基于 **统一语义 DSL (USD)** 的下一代应用开发平台。我们相信未来的开发方式是**语言弱化、语义强化**——通过可视化、代码、自然语言三种方式的无缝切换，让任何人都能参与应用创建。

## 核心理念：双向驱动

```
┌─────────────────────────────────────────────────────────────────┐
│                    用户交互层（多模态输入）                      │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────┐ │
│  │ 可视化画布   │  │ DSL/代码    │  │ 自然语言助手            │ │
│  │ (Design)    │←→│ (Code)      │←→│ (AI Assistant)          │ │
│  │ 设计师主导   │  │ 开发者主导   │  │ 产品经理/业务主导        │ │
│  └──────┬──────┘  └──────┬──────┘  └───────────┬─────────────┘ │
│         └─────────────────┼─────────────────────┘               │
│                           ↓ 双向实时同步                         │
│              ┌─────────────────────┐                            │
│              │   统一语义 DSL 层    │ ← 核心抽象                  │
│              │  (Single Source of   │   任何改动实时反映到其他视图  │
│              │       Truth)         │                            │
│              └──────────┬──────────┘                            │
│                         ↓                                       │
│              ┌─────────────────────┐                            │
│              │   多目标生成引擎     │                            │
│              │  Flutter/React/小程序 │                            │
│              └─────────────────────┘                            │
└─────────────────────────────────────────────────────────────────┘
```

## 三种编辑方式

### 1. 可视化编辑器
- **目标用户**：设计师、产品经理
- **交互方式**：拖拽、点击、属性面板
- **特性**：
  - 类 Penpot/Figma 的画布体验
  - 语义感知设计（自动识别状态、交互）
  - 实时预览
  - 组件库支持

### 2. DSL 编辑器
- **目标用户**：开发者
- **交互方式**：代码编写、智能提示
- **特性**：
  - 强类型语义语言
  - Monaco Editor 集成
  - 实时语法校验
  - 代码跳转与重构

### 3. AI 助手
- **目标用户**：所有人
- **交互方式**：自然语言对话
- **特性**：
  - 意图理解
  - DSL 生成与修改
  - 设计建议
  - 问题解释

## 统一语义 DSL (USD)

### 8 大语义维度

| 语义 | 描述 | 示例 |
|------|------|------|
| **结构语义** | UI 组件层次关系 | Screen, Component, Layout |
| **状态语义** | 组件内部状态 | State, Props, GlobalState |
| **数据语义** | 数据模型与关系 | Entity, Relation, Validation |
| **交互语义** | 用户交互响应 | Interaction, Event, Action |
| **主题语义** | 设计系统 | Theme, Colors, Typography |
| **能力语义** | 平台能力声明 | Auth, Network, Storage |
| **路由语义** | 页面导航 | Route, Navigation, DeepLink |
| **业务语义** | 业务流程 | Flow, Workflow, StateMachine |

### DSL 设计原则

1. **声明式**：描述"是什么"而非"怎么做"
2. **强类型**：编译时检查，减少运行时错误
3. **可组合**：支持 Mixin、Extend、Import
4. **可注释**：支持文档字符串
5. **可版本化**：Git 原生支持

## 多目标代码生成

### 支持的目标框架

| 框架 | 语言 | 优先级 | 状态 |
|------|------|--------|------|
| Flutter | Dart | P0 | 规划中 |
| React Native | TypeScript | P1 | 规划中 |
| SwiftUI | Swift | P2 | 规划中 |
| 微信小程序 | JavaScript | P2 | 规划中 |

### 生成质量保证

- 符合框架最佳实践
- 可读、可维护的代码
- 保留手动修改标记（保护区域）
- 完整的类型定义

## AI 深度集成

### AI 能力

- **意图解析**：自然语言 → DSL
- **组件推荐**：根据上下文推荐组件
- **设计优化**：布局、样式建议
- **代码解释**：解释 DSL 和生成代码

### AI 架构

```
用户输入 (自然语言/操作)
    ↓
意图识别 (LLM)
    ↓
DSL 生成/修改
    ↓
验证与应用
    ↓
实时同步到所有视图
```

## 无使用限制

Origin 完全开源，无任何使用限制：

- ❌ 无速率限制
- ❌ 无项目数量限制
- ❌ 无协作用户数限制
- ❌ 无功能限制
- ✅ 完全自托管
- ✅ MIT 许可证

## 与其他方案对比

### vs Figma
| 特性 | Figma | Origin |
|------|-------|--------|
| 可视化设计 | ✅ | ✅ |
| 代码生成 | 插件 | 原生集成 |
| 状态管理 | ❌ | ✅ |
| 自托管 | ❌ | ✅ |

### vs Penpot
| 特性 | Penpot | Origin |
|------|--------|--------|
| 开源 | ✅ | ✅ |
| 自托管 | ✅ | ✅ |
| 代码生成 | ❌ | ✅ |
| DSL 编辑 | ❌ | ✅ |
| AI 集成 | ❌ | ✅ |

### vs FlutterFlow
| 特性 | FlutterFlow | Origin |
|------|-------------|--------|
| Flutter 生成 | ✅ | ✅ |
| 多框架 | ❌ | ✅ |
| 代码质量 | 平台锁定 | 可维护 |
| DSL 编辑 | ❌ | ✅ |
| 自托管 | ❌ | ✅ |
| 费用 | 付费 | 免费 |

## 项目目标

### 短期 (3 个月)
- ✅ USD v2 语法设计完成
- ⏳ DSL Parser 实现
- ⏳ 基础可视化编辑器
- ⏳ 双向同步机制
- ⏳ Flutter 生成器 MVP

### 中期 (6 个月)
- ⏳ 完整设计工具集
- ⏳ AI 助手集成
- ⏳ React Native 生成器
- ⏳ 协作编辑

### 长期 (12 个月)
- ⏳ 更多目标框架
- ⏳ 插件系统
- ⏳ 云端协作服务
- ⏳ 企业版功能

## 项目命名

**Origin** 寓意着"起源"——这是应用诞生的起点。从想法到设计，到 DSL，再到代码，一切始于此。

同时，**O** 也代表 **Omni-directional**（全方位）、**Open**（开放）、**One**（统一）。
