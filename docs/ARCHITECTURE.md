# Origin - ç³»ç»Ÿæ¶æ„è®¾è®¡ (çº¯ Web ç‰ˆæœ¬)

## æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æµè§ˆå™¨ (çº¯ Web + TypeScript)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    UI å±‚ (React)                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ å¯è§†åŒ–ç”»å¸ƒ   â”‚  â”‚ DSL ç¼–è¾‘å™¨   â”‚  â”‚ AI åŠ©æ‰‹é¢æ¿        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ (Fabric.js) â”‚  â”‚ (Monaco)    â”‚  â”‚ (ç›´æ¥è°ƒç”¨ LLM)     â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚
â”‚  â”‚                           â†“                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚            åŒæ­¥å¼•æ“ (CRDT + Zustand)                â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ æœ¬åœ°çŠ¶æ€ç®¡ç†  â€¢ å†²çªè§£å†³  â€¢ ç¦»çº¿æ”¯æŒ             â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â†“                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   WASM Parser (Rust)                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ DSL Parser  â”‚ â”‚ Validator   â”‚ â”‚ Formatter            â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ (WASM)      â”‚ â”‚ (WASM)      â”‚ â”‚ (WASM)               â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“ HTTPS/WebSocket (å¯é€‰)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      äº‘ç«¯æœåŠ¡ (è‡ªæ‰˜ç®¡ - å¯é€‰)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    API ç½‘å…³ (Rust/Actix)                  â”‚ â”‚
â”‚  â”‚              â€¢ è®¤è¯ â€¢ è·¯ç”± â€¢ æ—¥å¿—                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ åä½œæœåŠ¡     â”‚ â”‚ å­˜å‚¨æœåŠ¡      â”‚ â”‚ é›†æˆæœåŠ¡                â”‚ â”‚
â”‚  â”‚ (WebSocket)  â”‚ â”‚              â”‚ â”‚                        â”‚ â”‚
â”‚  â”‚              â”‚ â”‚ PostgreSQL   â”‚ â”‚ â€¢ Git é›†æˆ             â”‚ â”‚
â”‚  â”‚ â€¢ å®æ—¶åŒæ­¥   â”‚ â”‚ S3/MinIO     â”‚ â”‚ â€¢ CI/CD è§¦å‘           â”‚ â”‚
â”‚  â”‚ â€¢ å…‰æ ‡åŒæ­¥   â”‚ â”‚ Redis Cache  â”‚ â”‚ â€¢ éƒ¨ç½²å‘å¸ƒ             â”‚ â”‚
â”‚  â”‚ â€¢ ç‰ˆæœ¬å†å²   â”‚ â”‚              â”‚ â”‚                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš ï¸ AI æœåŠ¡ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è°ƒç”¨ LLMï¼Œä¸ç»è¿‡åç«¯
```

## ä¸‰å±‚æ¶æ„æ¨¡å‹

### 1. è¡¨ç°å±‚ (Presentation)

#### å¯è§†åŒ–ç¼–è¾‘å™¨
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header Bar                                               â”‚
â”‚  [Logo] [æ–‡ä»¶] [ç¼–è¾‘] [è§†å›¾] [æ’å…¥]    [é¢„è§ˆ] [ç”Ÿæˆ] [è®¾ç½®] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            â”‚                    â”‚                          â”‚
â”‚  ç»„ä»¶åº“     â”‚      ä¸»ç”»å¸ƒ         â”‚      å±æ€§é¢æ¿            â”‚
â”‚            â”‚                    â”‚                          â”‚
â”‚  ğŸ” æœç´¢   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚            â”‚  â”‚              â”‚  â”‚  â”‚ ğŸ“ å¸ƒå±€            â”‚ â”‚
â”‚  ğŸ“ åŸºç¡€   â”‚  â”‚   Frame      â”‚  â”‚  â”‚  X: 100  Y: 200    â”‚ â”‚
â”‚  â”œâ”€ Containerâ”‚  â”‚              â”‚  â”‚  â”‚  W: 375  H: 812    â”‚ â”‚
â”‚  â”œâ”€ Text    â”‚  â”‚  [é€‰ä¸­ç»„ä»¶]   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”œâ”€ Image   â”‚  â”‚              â”‚  â”‚                          â”‚
â”‚  â””â”€ Button  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚            â”‚                    â”‚  â”‚ ğŸ¨ æ ·å¼              â”‚ â”‚
â”‚  ğŸ¨ è‡ªå®šä¹‰  â”‚                    â”‚  â”‚  Fill: #FFF        â”‚ â”‚
â”‚  â”œâ”€ NavBar â”‚                    â”‚  â”‚  Radius: 12        â”‚ â”‚
â”‚  â””â”€ ...    â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚            â”‚                    â”‚                          â”‚
â”‚  ğŸ§© ä¸šåŠ¡   â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”œâ”€ Login  â”‚                    â”‚  â”‚ âš¡ äº¤äº’             â”‚ â”‚
â”‚  â””â”€ ...    â”‚                    â”‚  â”‚  onClick: ...      â”‚ â”‚
â”‚            â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### DSL ç¼–è¾‘å™¨
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USD Editor                              [Validate] [Sync] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1   Screen LoginScreen {                                 â”‚
â”‚  2       Route {                                          â”‚
â”‚  3           path: "/login"                               â”‚
â”‚  4       }                                                â”‚
â”‚  5                                                         â”‚
â”‚  6       State {                                          â”‚
â”‚  7           username: String                             â”‚
â”‚  8           password: String                             â”‚
â”‚  9       }                                                â”‚
â”‚ 10                                                         â”‚
â”‚ 11       Layout {                                         â”‚
â”‚ 12           Container { ... }                            â”‚
â”‚ 13       }                                                â”‚
â”‚ 14   }                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Problems (0) | Output | Terminal                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### AI åŠ©æ‰‹ (å‰ç«¯ç›´æ¥è°ƒç”¨ LLM)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– Origin AI                                      [âš™ï¸]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  Provider: [OpenAI â–¼]    Model: [GPT-4 â–¼]                  â”‚
â”‚  API Key: [sk-â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢] [è®¾ç½®]                    â”‚
â”‚                                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                           â”‚
â”‚  ä½ : åˆ›å»ºä¸€ä¸ªç°ä»£åŒ–çš„ç™»å½•é¡µé¢                              â”‚
â”‚                                                           â”‚
â”‚  ğŸ¤–: æˆ‘æ¥å¸®ä½ åˆ›å»ºã€‚åŸºäºæè¿°ï¼Œæˆ‘å»ºè®®ä½¿ç”¨ä»¥ä¸‹ç»“æ„ï¼š           â”‚
â”‚                                                           â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚      â”‚     [Logo]              â”‚                          â”‚
â”‚      â”‚                         â”‚                          â”‚
â”‚      â”‚  ç”¨æˆ·å: [_________]     â”‚                          â”‚
â”‚      â”‚  å¯†ç :   [_________]     â”‚                          â”‚
â”‚      â”‚                         â”‚                          â”‚
â”‚      â”‚    [ç™»å½•]               â”‚                          â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                           â”‚
â”‚  [åº”ç”¨æ­¤è®¾è®¡] [ç»§ç»­è°ƒæ•´] [ç”Ÿæˆä»£ç ]                         â”‚
â”‚                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¾“å…¥æ¶ˆæ¯...                                     [å‘é€]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. è¯­ä¹‰å±‚ (Semantic) - æ ¸å¿ƒ

#### ç»Ÿä¸€è¯­ä¹‰ DSL (USD)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Unified Semantic DSL (USD)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ ç»“æ„è¯­ä¹‰ â”‚ â”‚ çŠ¶æ€è¯­ä¹‰ â”‚ â”‚ æ•°æ®è¯­ä¹‰ â”‚ â”‚ äº¤äº’è¯­ä¹‰ â”‚          â”‚
â”‚  â”‚Structureâ”‚ â”‚  State  â”‚ â”‚  Data   â”‚ â”‚Behavior â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ ä¸»é¢˜è¯­ä¹‰ â”‚ â”‚ èƒ½åŠ›è¯­ä¹‰ â”‚ â”‚ è·¯ç”±è¯­ä¹‰ â”‚ â”‚ ä¸šåŠ¡è¯­ä¹‰ â”‚          â”‚
â”‚  â”‚  Theme  â”‚ â”‚Capabilityâ”‚ â”‚ Routing â”‚ â”‚ Businessâ”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                           â”‚
â”‚  å…³é”®ç‰¹æ€§ï¼š                                                â”‚
â”‚  â€¢ å£°æ˜å¼è¯­æ³•ï¼ˆç±» Swift/Kotlinï¼‰                           â”‚
â”‚  â€¢ å¼ºç±»å‹ç³»ç»Ÿï¼ˆæ³›å‹ã€è”åˆç±»å‹ï¼‰                             â”‚
â”‚  â€¢ å®æ—¶éªŒè¯ï¼ˆå¼•ç”¨æ£€æŸ¥ã€ç±»å‹æ£€æŸ¥ï¼‰                           â”‚
â”‚  â€¢ ç‰ˆæœ¬ç®¡ç†ï¼ˆGit åŸç”Ÿæ”¯æŒï¼‰                                â”‚
â”‚  â€¢ å¯æ‰©å±•ï¼ˆæ’ä»¶å®šä¹‰æ–°è¯­ä¹‰ï¼‰                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ç”Ÿæˆå±‚ (Generation)

#### å¤šç›®æ ‡ä»£ç ç”Ÿæˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Code Generation Engine                  â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ä»£ç ç”Ÿæˆå™¨   â”‚  â”‚ é…ç½®ç”Ÿæˆå™¨   â”‚  â”‚ èµ„æºç”Ÿæˆå™¨         â”‚ â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚                   â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚  â”‚ â”‚Flutter  â”‚ â”‚  â”‚ â”‚Docker   â”‚ â”‚  â”‚ â”‚Icons    â”‚       â”‚ â”‚
â”‚  â”‚ â”‚React    â”‚ â”‚  â”‚ â”‚K8s      â”‚ â”‚  â”‚ â”‚Splash   â”‚       â”‚ â”‚
â”‚  â”‚ â”‚Vue      â”‚ â”‚  â”‚ â”‚CI/CD    â”‚ â”‚  â”‚ â”‚Assets   â”‚       â”‚ â”‚
â”‚  â”‚ â”‚SwiftUI   â”‚ â”‚  â”‚ â”‚Nginx    â”‚ â”‚  â”‚ â”‚Fonts    â”‚       â”‚ â”‚
â”‚  â”‚ â”‚å°ç¨‹åº   â”‚ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚             â”‚  â”‚                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## AI æ¶æ„ (å‰ç«¯ç›´æ¥æ¥å…¥)

### AI æœåŠ¡æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AI æ¨¡å— (React)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  AI Service Layer                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚   Provider   â”‚  â”‚   Context    â”‚  â”‚   Prompt     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   Manager    â”‚  â”‚   Builder    â”‚  â”‚   Template   â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              LLM Provider Adapters                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚   OpenAI    â”‚ â”‚  Anthropic  â”‚ â”‚    Local LLM    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚   (GPT-4)   â”‚ â”‚   (Claude)   â”‚ â”‚   (Ollama)      â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚               ç”¨æˆ·é…ç½® (æœ¬åœ°å­˜å‚¨)                      â”‚   â”‚
â”‚  â”‚  â€¢ API Key (IndexedDB, åŠ å¯†)                          â”‚   â”‚
â”‚  â”‚  â€¢ Provider é€‰æ‹©                                      â”‚   â”‚
â”‚  â”‚  â€¢ Model é€‰æ‹©                                         â”‚   â”‚
â”‚  â”‚  â€¢ è‡ªå®šä¹‰ Endpoint (å¯é€‰)                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¤–éƒ¨ LLM æœåŠ¡                             â”‚
â”‚  â€¢ OpenAI API          â€¢ Anthropic API        â€¢ å…¶ä»–        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AI åŠŸèƒ½å®ç°

```typescript
// AI æœåŠ¡æ¥å£
interface AIService {
  // é…ç½®
  configure(config: AIConfig): void;

  // ç”Ÿæˆ DSL
  generateDSL(prompt: string, context: ProjectContext): Promise<string>;

  // è·å–å»ºè®®
  getSuggestions(document: UsdDocument, intent: string): Promise<Suggestion[]>;

  // è§£é‡Šä»£ç 
  explainCode(code: string): Promise<string>;

  // ä¼˜åŒ–è®¾è®¡
  optimizeDesign(dsl: string): Promise<string>;
}

// Provider é…ç½®
interface AIConfig {
  provider: 'openai' | 'anthropic' | 'ollama' | 'custom';
  apiKey?: string;
  model: string;
  baseURL?: string;  // è‡ªå®šä¹‰ endpoint
  temperature?: number;
  maxTokens?: number;
}

// å‰ç«¯å®ç°ç¤ºä¾‹
class OpenAIService implements AIService {
  private client: OpenAI;
  private config: AIConfig;

  constructor(config: AIConfig) {
    this.config = config;
    this.client = new OpenAI({
      apiKey: config.apiKey,
      baseURL: config.baseURL,
      dangerouslyAllowBrowser: true  // å…è®¸æµè§ˆå™¨è°ƒç”¨
    });
  }

  async generateDSL(prompt: string, context: ProjectContext): Promise<string> {
    const systemPrompt = this.buildSystemPrompt(context);

    const response = await this.client.chat.completions.create({
      model: this.config.model,
      messages: [
        { role: 'system', content: systemPrompt },
        { role: 'user', content: prompt }
      ],
      temperature: this.config.temperature ?? 0.7,
      max_tokens: this.config.maxTokens ?? 4096
    });

    return response.choices[0].message.content ?? '';
  }

  private buildSystemPrompt(context: ProjectContext): string {
    return `ä½ æ˜¯ Origin AI åŠ©æ‰‹ï¼Œå¸®åŠ©ç”¨æˆ·åˆ›å»ºåº”ç”¨è®¾è®¡ã€‚

é¡¹ç›®ä¿¡æ¯ï¼š
- æ¡†æ¶: ${context.framework}
- å¹³å°: ${context.platforms.join(', ')}
- è®¾è®¡ç³»ç»Ÿ: ${context.theme ?? 'é»˜è®¤'}

è¯·ä½¿ç”¨ USD (Unified Semantic DSL) v2 è¯­æ³•ç”Ÿæˆä»£ç ã€‚

è¯­æ³•è§„åˆ™ï¼š
1. ä½¿ç”¨å£°æ˜å¼è¯­æ³•
2. å®šä¹‰çŠ¶æ€ã€å¸ƒå±€ã€äº¤äº’
3. éµå¾ª 8 å¤§è¯­ä¹‰ç»´åº¦

è¾“å‡ºæ ¼å¼ï¼šä»…è¾“å‡º USD DSL ä»£ç ï¼Œä¸è¦å…¶ä»–è¯´æ˜ã€‚`;
  }
}
```

### ç”¨æˆ·é…ç½®ç•Œé¢

```typescript
// AI è®¾ç½®ç»„ä»¶
function AISettings() {
  const [config, setConfig] = useAIConfig();

  return (
    <div className="ai-settings">
      <h2>AI é…ç½®</h2>

      <Select
        label="Provider"
        value={config.provider}
        onChange={(provider) => setConfig({ ...config, provider })}
        options={[
          { value: 'openai', label: 'OpenAI (GPT-4)' },
          { value: 'anthropic', label: 'Anthropic (Claude)' },
          { value: 'ollama', label: 'Ollama (æœ¬åœ°)' },
          { value: 'custom', label: 'è‡ªå®šä¹‰' }
        ]}
      />

      <Input
        label="API Key"
        type="password"
        value={config.apiKey ?? ''}
        onChange={(apiKey) => setConfig({ ...config, apiKey })}
        placeholder="sk-..."
      />

      {config.provider === 'custom' && (
        <Input
          label="Base URL"
          value={config.baseURL ?? ''}
          onChange={(baseURL) => setConfig({ ...config, baseURL })}
          placeholder="https://api.example.com/v1"
        />
      )}

      <Select
        label="Model"
        value={config.model}
        onChange={(model) => setConfig({ ...config, model })}
        options={getModelOptions(config.provider)}
      />

      <Button onClick={saveConfig}>ä¿å­˜é…ç½®</Button>
    </div>
  );
}
```

## WASM DSL Parser

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WASM Parser (Rust)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  Parser Layer                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚   Pest PEG   â”‚  â”‚   AST Nodes  â”‚  â”‚  Validator   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   Parser     â”‚  â”‚              â”‚  â”‚              â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              wasm-bindgen Interface                  â”‚   â”‚
â”‚  â”‚  â€¢ parse()       â€¢ validate()    â€¢ format()          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  JavaScript/WASM Bridge                     â”‚
â”‚  import init, { UsdParser } from 'usd-parser-wasm'          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Rust å®ç°

```rust
// usd-parser-wasm/src/lib.rs
use wasm_bindgen::prelude::*;

#[wasm_bindgen]
pub struct UsdParser {
    // Parser çŠ¶æ€
}

#[wasm_bindgen]
impl UsdParser {
    #[wasm_bindgen(constructor)]
    pub fn new() -> Self {
        Self {
            // åˆå§‹åŒ–
        }
    }

    #[wasm_bindgen]
    pub fn parse(&self, source: &str) -> Result<JsValue, JsValue> {
        // è§£æ DSL
        let ast = self.parse_internal(source)?;
        Ok(serde_wasm_bindgen::to_value(&ast)?)
    }

    #[wasm_bindgen]
    pub fn validate(&self, source: &str) -> Result<JsValue, JsValue> {
        // éªŒè¯ DSL
        let errors = self.validate_internal(source)?;
        Ok(serde_wasm_bindgen::to_value(&errors)?)
    }

    #[wasm_bindgen]
    pub fn format(&self, source: &str) -> String {
        // æ ¼å¼åŒ– DSL
        self.format_internal(source)
    }
}
```

### JavaScript è°ƒç”¨

```typescript
// src/lib/wasm/parser.ts
import initWasm, { UsdParser } from 'usd-parser-wasm';

let parser: UsdParser | null = null;

export async function initParser() {
  await initWasm();
  parser = new UsdParser();
}

export async function parseDSL(source: string): Promise<UsdDocument> {
  if (!parser) await initParser();
  return parser!.parse(source);
}

export async function validateDSL(source: string): Promise<ValidationError[]> {
  if (!parser) await initParser();
  return parser!.validate(source);
}

export function formatDSL(source: string): string {
  if (!parser) initParser();
  return parser!.format(source);
}
```

## æ ¸å¿ƒæ¨¡å—è¯¦è§£

### 1. åŒæ­¥å¼•æ“ (CRDT)

```typescript
// ä½¿ç”¨ Yjs å®ç° CRDT
interface SyncEngine {
  // æœ¬åœ°çŠ¶æ€
  document: Y.Doc;

  // ç»‘å®šåˆ°ç¼–è¾‘å™¨
  bindToCanvas(canvas: Canvas): void;
  bindToDslEditor(editor: Monaco): void;

  // å˜æ›´ç›‘å¬
  onCanvasChange(callback: (delta: Delta) => void): void;
  onDslChange(callback: (delta: Delta) => void): void;

  // å†²çªè§£å†³
  resolveConflict(local: Delta, remote: Delta): Delta;

  // ç¦»çº¿æ”¯æŒ
  enableOffline(): void;
  syncWhenOnline(): Promise<void>;
}
```

### 2. æœ¬åœ°å­˜å‚¨

```typescript
// ä½¿ç”¨ IndexedDB + Origin Private File System
interface LocalStorage {
  // é¡¹ç›®æ•°æ® (IndexedDB)
  saveProject(id: string, project: Project): Promise<void>;
  loadProject(id: string): Promise<Project>;
  listProjects(): Promise<Project[]>;

  // æ–‡ä»¶æŒä¹…åŒ– (OPFS)
  saveFile(path: string, content: Blob): Promise<void>;
  loadFile(path: string): Promise<Blob>;

  // AI é…ç½® (åŠ å¯†)
  saveAIConfig(config: AIConfig): Promise<void>;
  loadAIConfig(): Promise<AIConfig>;
}
```

### 3. ä»£ç ç”Ÿæˆå™¨

```rust
// æœåŠ¡ç«¯ä»£ç ç”Ÿæˆå™¨ (é€šè¿‡ API è°ƒç”¨)
pub trait CodeGenerator {
    // ç”Ÿæˆè®¾ç½®
    type Config;

    // ç”Ÿæˆå…¥å£
    fn generate(
        &self,
        document: &UsdDocument,
        config: &Self::Config,
    ) -> Result<GeneratedProject, GenerationError>;

    // æ¨¡æ¿æ¸²æŸ“
    fn render_template(&self, name: &str, context: &Context) -> Result<String, TemplateError>;

    // æ–‡ä»¶ç»„ç»‡
    fn organize_files(&self, files: Vec<GeneratedFile>) -> ProjectStructure;
}

// Flutter ç”Ÿæˆå™¨
pub struct FlutterGenerator {
    config: FlutterConfig,
}

impl CodeGenerator for FlutterGenerator {
    type Config = FlutterConfig;

    fn generate(&self, doc: &UsdDocument, config: &FlutterConfig) -> Result<GeneratedProject, GenerationError> {
        // 1. ç”Ÿæˆè·¯ç”±
        let routes = self.generate_routes(doc)?;

        // 2. ç”ŸæˆçŠ¶æ€ç®¡ç†
        let state = self.generate_state(doc)?;

        // 3. ç”Ÿæˆç»„ä»¶
        let widgets = self.generate_widgets(doc)?;

        // 4. ç”Ÿæˆ API å®¢æˆ·ç«¯
        let api = self.generate_api_client(doc)?;

        // 5. ç»„ç»‡é¡¹ç›®ç»“æ„
        Ok(GeneratedProject {
            framework: "flutter",
            files: vec![routes, state, widgets, api],
            config: config.clone(),
        })
    }
}
```

## æ•°æ®æµ

### è®¾è®¡åˆ°ä»£ç æµç¨‹

```
1. ç”¨æˆ·æ“ä½œï¼ˆä»»ä½•è§†å›¾ï¼‰
   â”œâ”€ å¯è§†åŒ–ï¼šæ‹–æ‹½ç»„ä»¶
   â”œâ”€ DSLï¼šç¼–è¾‘ä»£ç 
   â””â”€ AIï¼šè‡ªç„¶è¯­è¨€
   â†“
2. åŒæ­¥å¼•æ“æ¥æ”¶å˜æ›´
   â”œâ”€ è½¬æ¢ä¸º Delta æ“ä½œ
   â”œâ”€ åº”ç”¨åˆ° CRDT æ–‡æ¡£
   â””â”€ å¹¿æ’­åˆ°å…¶ä»–è§†å›¾
   â†“
3. WASM Parser å¤„ç†
   â”œâ”€ è§£æ DSL
   â”œâ”€ éªŒè¯è¯­æ³•
   â””â”€ ç”Ÿæˆ AST
   â†“
4. ä»£ç ç”Ÿæˆï¼ˆæŒ‰éœ€ï¼‰
   â”œâ”€ å‘é€åˆ°äº‘ç«¯ API
   â”œâ”€ åº”ç”¨æ¨¡æ¿
   â””â”€ è¿”å›ç”Ÿæˆçš„ä»£ç åŒ…
```

### AI è¾…åŠ©æµç¨‹ (å‰ç«¯ç›´æ¥è°ƒç”¨)

```
1. ç”¨æˆ·è¾“å…¥è‡ªç„¶è¯­è¨€
   â†“
2. å‰ç«¯ AI æœåŠ¡å¤„ç†
   â”œâ”€ ä» IndexedDB è·å–åŠ å¯†çš„ API Key
   â”œâ”€ é€‰æ‹© Provider (OpenAI/Anthropic/etc)
   â”œâ”€ æ„å»º System Prompt
   â””â”€ è°ƒç”¨ LLM API
   â†“
3. LLM è¿”å›ç»“æœ
   â”œâ”€ WASM Parser è§£æç”Ÿæˆçš„ DSL
   â”œâ”€ éªŒè¯è¯­æ³•æ­£ç¡®æ€§
   â””â”€ æ˜¾ç¤ºé¢„è§ˆ
   â†“
4. ç”¨æˆ·ç¡®è®¤ååº”ç”¨
   â”œâ”€ æ›´æ–° CRDT æ–‡æ¡£
   â”œâ”€ åŒæ­¥åˆ°å¯è§†åŒ–è§†å›¾
   â””â”€ åŒæ­¥åˆ° DSL ç¼–è¾‘å™¨
```

## æŠ€æœ¯é€‰å‹

### çº¯ Web å‰ç«¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Next.js | 14+ | å…¨æ ˆæ¡†æ¶ |
| React | 18.2+ | UI æ¡†æ¶ |
| TypeScript | 5.0+ | ç±»å‹ç³»ç»Ÿ |
| Zustand | 4.4+ | çŠ¶æ€ç®¡ç† |
| Fabric.js | 5.3+ | ç”»å¸ƒæ¸²æŸ“ |
| Monaco Editor | 0.44+ | DSL ç¼–è¾‘å™¨ |
| Yjs | 13.6+ | CRDT åŒæ­¥ |
| idb | 8.0+ | IndexedDB å°è£… |

### WASM Parser

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Rust | 1.75+ | Parser å®ç° |
| wasm-bindgen | - | Rust â†” JS ç»‘å®š |
| Pest | 2.7+ | PEG è§£æå™¨ |

### AI é›†æˆ (å‰ç«¯)

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| openai | 4.20+ | OpenAI SDK |
| @anthropic-ai/sdk | 0.17+ | Anthropic SDK |
| ollama-js | - | æœ¬åœ° LLM (å¯é€‰) |

### äº‘ç«¯æœåŠ¡ (å¯é€‰)

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Rust | 1.75+ | åç«¯è¯­è¨€ |
| Actix-web/Axum | - | Web æ¡†æ¶ |
| sqlx | 0.7+ | æ•°æ®åº“è®¿é—® |
| PostgreSQL | 15+ | ä¸»æ•°æ®åº“ (äº‘ç«¯) |
| Redis | 7+ | ç¼“å­˜ (äº‘ç«¯) |

## é¡¹ç›®ç»“æ„

```
origin/
â”œâ”€â”€ usd-parser-wasm/        # WASM Parser (Rust)
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ lib.rs
â”‚       â”œâ”€â”€ parser.rs
â”‚       â”œâ”€â”€ ast.rs
â”‚       â””â”€â”€ validator.rs
â”œâ”€â”€ src/                     # Next.js å‰ç«¯
â”‚   â”œâ”€â”€ app/                 # App Router
â”‚   â”œâ”€â”€ components/          # UI ç»„ä»¶
â”‚   â”œâ”€â”€ canvas/              # ç”»å¸ƒæ¨¡å—
â”‚   â”œâ”€â”€ editor/              # DSL ç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ ai/                  # AI åŠ©æ‰‹ (å‰ç«¯ç›´æ¥è°ƒç”¨)
â”‚   â”‚   â”œâ”€â”€ services/        # AI Service å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ openai.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ anthropic.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ollama.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ prompts/         # Prompt æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ settings/        # AI é…ç½®
â”‚   â”œâ”€â”€ stores/              # Zustand stores
â”‚   â”œâ”€â”€ lib/                 # å·¥å…·åº“
â”‚   â”‚   â””â”€â”€ wasm/            # WASM ç»‘å®š
â”‚   â””â”€â”€ styles/              # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ public/                  # é™æ€èµ„æº
â”œâ”€â”€ docs/                    # æ–‡æ¡£
â””â”€â”€ package.json
```

## éƒ¨ç½²æ¶æ„

### æœ¬åœ°æ¨¡å¼ï¼ˆé»˜è®¤/æ¨èï¼‰
```
æµè§ˆå™¨è®¿é—® origin.app (æˆ–æœ¬åœ°è¿è¡Œ)
â”œâ”€â”€ å‰ç«¯ (Next.js Static)
â”‚   â”œâ”€â”€ ç”»å¸ƒå¼•æ“
â”‚   â”œâ”€â”€ DSL ç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ WASM Parser
â”‚   â””â”€â”€ AI æœåŠ¡ (ç›´æ¥è°ƒç”¨ LLM)
â”œâ”€â”€ æœ¬åœ°å­˜å‚¨
â”‚   â”œâ”€â”€ IndexedDB (é¡¹ç›®æ•°æ®)
â”‚   â””â”€â”€ OPFS (æ–‡ä»¶æŒä¹…åŒ–)
â””â”€â”€ å¯é€‰äº‘ç«¯åŒæ­¥
```

### äº‘ç«¯æ¨¡å¼ï¼ˆè‡ªæ‰˜ç®¡ - åä½œåŠŸèƒ½ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Docker Compose éƒ¨ç½²          â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ API ç½‘å…³  â”‚  â”‚ PostgreSQLâ”‚         â”‚
â”‚  â”‚ (Rust)   â”‚  â”‚           â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ å‰ç«¯     â”‚  â”‚ S3/MinIO â”‚         â”‚
â”‚  â”‚ (Static) â”‚  â”‚          â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                     â”‚
â”‚  æ³¨æ„ï¼šAI åŠŸèƒ½ä»åœ¨æµè§ˆå™¨ä¸­è°ƒç”¨        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é™æ€æ‰˜ç®¡é€‰é¡¹

```bash
# Vercel (æ¨è)
vercel deploy

# Netlify
netlify deploy --prod

# Cloudflare Pages
npm run build && wrangler pages publish out

# è‡ªæ‰˜ç®¡ Nginx
cp -r out/* /var/www/origin/
```

## å®‰å…¨è€ƒè™‘

### AI API Key å®‰å…¨
- API Key åŠ å¯†å­˜å‚¨åœ¨ IndexedDB
- ä½¿ç”¨ç”¨æˆ·å¯†ç åŠ å¯†/è§£å¯†
- ä¸ç»è¿‡ä»»ä½•æœåŠ¡å™¨
- ç”¨æˆ·å®Œå…¨æ§åˆ¶ Key ä½¿ç”¨
- æ”¯æŒè‡ªå®šä¹‰ Endpoint

### Web åº”ç”¨å®‰å…¨
- CSP (Content Security Policy)
- è¾“å…¥éªŒè¯ä¸æ¸…ç†
- HTTPS å¼ºåˆ¶
- CSRF ä¿æŠ¤

### æœ¬åœ°å­˜å‚¨å®‰å…¨
- IndexedDB æ•°æ®åŠ å¯†
- æ•æ„Ÿä¿¡æ¯ä¸å­˜å‚¨åœ¨ localStorage
- å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®

### äº‘ç«¯æœåŠ¡å®‰å…¨
- JWT è®¤è¯ (å¯é€‰)
- RBAC æƒé™æ§åˆ¶ (å¯é€‰)
- è¾“å…¥éªŒè¯ä¸æ¸…ç†
